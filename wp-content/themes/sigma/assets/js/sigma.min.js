/*! Sigma - v0.1.2
 * http://stephenharris.info
 * Copyright (c) 2014; * Licensed GPLv2+ */
!function(a,b){"use strict";var c={options:{mobileBreakpoint:600,toggleButtonID:"menu-toggle-button",hoverClass:"menu-hover",arrowClass:"menu-arrows",mobileClass:"is-mobile-menu",hideMobileClass:"is-hidden",hasSubmenuClass:"has-submenu",openSubmenuClass:"is-open-submenu",toggleSubmenuClass:"toggle-submenu"},init:function(c,d){var e,f=this,g=!0;f.el=a(c),f.isTouch=!1,e=f.options=a.extend({},f.options,d),"ontouchstart"in document.documentElement&&(f.isTouch=!0,f.el.removeClass(e.hoverClass)),f.initContainer(),f.initToggleButton(),f.el.addClass(e.arrowClass).find("ul").parent().addClass(e.hasSubmenuClass).children("a").append('<span class="'+e.toggleSubmenuClass+'"></span>'),f.el.on("click","."+e.toggleSubmenuClass,function(a){f.el.hasClass(e.mobileClass)&&(a.preventDefault(),f.toggleSubmenu(this))}),f.toggleMobile(),a(b).on("resize",function(){g&&(g=!1,setTimeout(function(){f.toggleMobile(),g=!0},250))})},initContainer:function(){this.container=this.el.closest(".thmfdn-menu-container"),this.container.length<1&&(this.container=this.el.wrap('<div class="thmfdn-menu-container"></div>').parent())},initToggleButton:function(){var b=this,c=b.options;b.toggleButton=a("#"+c.toggleButtonID),b.toggleButton.length<1&&(b.toggleButton=b.container.prepend('<div id="'+c.toggleButtonID+'" class="menu-toggle-button">&#9776</div>').find("#"+c.toggleButtonID).hide()),b.toggleButton.on("click",function(){b.el.toggleClass(c.hideMobileClass)})},toggleMobile:function(){var a=this.options,b=this.container.outerWidth();b<a.mobileBreakpoint&&!this.el.hasClass(a.mobileClass)&&(this.toggleButton.show(),this.el.addClass(a.mobileClass).addClass(a.hideMobileClass).removeClass(a.hoverClass)),b>=a.mobileBreakpoint&&this.el.hasClass(a.mobileClass)&&(this.toggleButton.hide(),this.el.removeClass(a.hideMobileClass).removeClass(a.mobileClass),this.isTouch||this.el.addClass(a.hoverClass).find("."+a.openSubmenuClass).removeClass(a.openSubmenuClass))},toggleSubmenu:function(b){var c=this.options,d=a(b).closest("."+c.hasSubmenuClass);d.toggleClass(c.openSubmenuClass).parent().find("."+c.openSubmenuClass).not(d).removeClass(c.openSubmenuClass)}};a.fn.thmfdnMenu=function(a){return this.each(function(){var b=Object.create(c);b.init(this,a)})}}(jQuery,window),jQuery(function(a){a(".sigma-theme-menu").thmfdnMenu({hoverClass:"menu-hover"})});